From 141178fbd79e618aff9dc8c328872d929a97bb01 Mon Sep 17 00:00:00 2001
From: Eli Collins <eli@cloudera.com>
Date: Mon, 25 Oct 2010 21:01:42 -0700
Subject: [PATCH 30/30] CLOUDERA-BUILD. Add man page.

---
 cloudera/hbase.1          |   73 +++++++++++++++++++++++++++++++++++++++++++++
 cloudera/install_hbase.sh |    3 ++
 2 files changed, 76 insertions(+), 0 deletions(-)
 create mode 100644 cloudera/hbase.1

diff --git a/cloudera/hbase.1 b/cloudera/hbase.1
new file mode 100644
index 0000000..c5e4a00
--- /dev/null
+++ b/cloudera/hbase.1
@@ -0,0 +1,73 @@
+.\" Process this file with
+.\" groff -man -Tascii hbase.1
+.\"
+.TH hbase 1 "October 2010 " Linux "User Manuals"
+
+.SH NAME
+HBase \- HBase is the Hadoop database.
+
+.SH SYNOPSIS
+
+.B hbase
+\fICOMMAND\fR
+
+.SH DESCRIPTION
+
+HBase is the Hadoop database. Use it when you need random, realtime
+read/write access to your Big Data. This project's goal is the hosting
+of very large tables -- billions of rows X millions of columns -- atop
+clusters of commodity hardware.
+
+HBase is an open-source, distributed, versioned, column-oriented store
+modeled after Google's Bigtable: A Distributed Storage System for
+Structured Data by Chang et al. Just as Bigtable leverages the
+distributed data storage provided by the Google File System, HBase
+provides Bigtable-like capabilities on top of Hadoop.
+
+For more information about HBase, see http://hbase.apache.org.
+
+\fICOMMAND\fR may be one of the following:
+  shell            run the HBase shell
+  shell-tests      run the HBase shell tests
+  zkcli            run the ZooKeeper shell
+  master           run an HBase HMaster node
+  regionserver     run an HBase HRegionServer node
+  zookeeper        run a Zookeeper server
+  rest             run an HBase REST server
+  thrift           run an HBase Thrift server
+  avro             run an HBase Avro server
+  migrate          upgrade an hbase.rootdir
+  hbck             run the hbase 'fsck' tool
+ or
+  CLASSNAME        run the class named CLASSNAME
+
+Most commands print help when invoked w/o parameters or with --help.
+
+.SH ENVIRONMENT
+
+.IP JAVA_HOME
+The java implementation to use.  Overrides JAVA_HOME.
+
+.IP HBASE_CLASSPATH
+Extra Java CLASSPATH entries.
+
+.IP HBASE_HEAPSIZE
+The maximum amount of heap to use, in MB. Default is 1000.
+
+.IP HBASE_OPTS
+Extra Java runtime options.
+
+.IP HBASE_CONF_DIR
+Alternate conf dir. Default is ${HBASE_HOME}/conf.
+
+.IP HBASE_ROOT_LOGGER
+The root appender. Default is INFO,console
+
+.IP HIVE_OPT
+Extra Java runtime options.
+
+.IP HADOOP_HOME
+Optionally, the Hadoop home to run with.
+
+.SH COPYRIGHT
+Copyright (C) 2010 The Apache Software Foundation. All rights reserved.
diff --git a/cloudera/install_hbase.sh b/cloudera/install_hbase.sh
index 86c4baf..5c6c246 100755
--- a/cloudera/install_hbase.sh
+++ b/cloudera/install_hbase.sh
@@ -82,6 +82,7 @@ for var in CLOUDERA_SOURCE_DIR PREFIX BUILD_DIR ; do
   fi
 done
 
+MAN_DIR=${MAN_DIR:-/usr/share/man/man1}
 DOC_DIR=${DOC_DIR:-/usr/share/doc/hbase}
 LIB_DIR=${LIB_DIR:-/usr/lib/hbase}
 BIN_DIR=${BIN_DIR:-/usr/lib/hbase/bin}
@@ -92,7 +93,9 @@ install -d -m 0755 $PREFIX/$LIB_DIR/lib
 install -d -m 0755 $PREFIX/$DOC_DIR
 install -d -m 0755 $PREFIX/$BIN_DIR
 install -d -m 0755 $PREFIX/$ETC_DIR
+install -d -m 0755 $PREFIX/$MAN_DIR
 
+gzip -c $CLOUDERA_SOURCE_DIR/hbase.1 > $PREFIX/$MAN_DIR/hbase.1.gz
 cp -ra lib/* ${PREFIX}/${LIB_DIR}/lib/
 cp -a cloudera ${PREFIX}/${LIB_DIR}/cloudera
 cp hbase*.jar $PREFIX/$LIB_DIR/
-- 
1.7.0.4

